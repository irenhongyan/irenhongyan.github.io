---
title: 表达式求值算法一
categories:
  - 数据结构
tags: []
originContent: ''
toc: false
date: 2020-05-06 19:59:38
keywords:
top:
cover:
summary:
password:
mathjax:
---

1.置操作数栈为空栈，表达式起始符“#”为栈底元素。 
2.依次读入表达式中的每个字符并进行如下判断，直至整个表达式读完且表达式求值运算完毕(即OPTR栈的栈顶元素和当前输入的字符均为“#”)。
（1）若读入字符是操作数，则将输入字符存入数组中，继续判断下一字符是否为操作数，若是，则继续存入数组中，若不是则将数组中的字符读出入OPND栈。    
（2）若读入字符是运算符，则根据已存入二维数组中的两两运算符间优先级关系，将读入字符和OPTR栈的栈顶运算符比较优先权后作相应操作：
	①若栈顶元素优先级低于读入字符的优先级，则将读入字符入OPTR栈，并读取下一个字符。
	②若栈顶元素优先级等于读入字符的优先级，说明括号相遇，也就是读入字符	为“）”，栈顶元素为“（”，删除栈内括号“（”即可，则弹出				 
        OPTR栈顶的元素，并读取下一个字符。
	③若栈顶元素优先级高于读入字符的优先级，需要先进行栈顶运算符运算，则弹出OPTR栈的栈顶元素作为运算符，分两次弹出OPND栈的栈顶元 
        素作为操作数进行运算，并将运算结果压入栈中。
3.读取并返回OPND栈的栈顶元素即为表达式的运算结果。
